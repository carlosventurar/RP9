# RP9 Portal Environment Variables (Phase 0)

# n8n Configuration (Required for Phase 0)
N8N_BASE_URL=https://primary-production-7f25.up.railway.app
N8N_API_KEY=REPLACE_WITH_YOUR_N8N_API_KEY

# Security Configuration (Phase 0)
HMAC_SECRET=your-super-secure-hmac-secret-change-in-production
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Frontend Configuration
FRONTEND_URL=http://localhost:3000

# Database Configuration (Supabase)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# App Configuration
NEXT_PUBLIC_APP_NAME=RP9 Portal
NEXT_PUBLIC_APP_VERSION=1.0.0

# Development
NODE_ENV=development

# Railway n8n Configuration Instructions (Phase 0)
# 1. Copy the N8N_BASE_URL from your Railway n8n deployment
# 2. Generate an API key from your n8n instance: Settings > API > Generate API Key  
# 3. Replace N8N_API_KEY with your generated key
# 4. Set HMAC_SECRET for secure webhooks

# === Phase 4: Security, SRE & Compliance ===

# Observabilidad / Alertas
ALERTS_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
STATUSPAGE_API_KEY=your-status-page-api-key
GRAFANA_REMOTE_WRITE_URL=https://prometheus-prod-10-prod-us-central-0.grafana.net/api/prom/push
GRAFANA_REMOTE_WRITE_TOKEN=your-grafana-cloud-token

# Backups & Recovery
BACKUPS_BUCKET=supabase://backups
BACKUPS_ENCRYPTION_KEY=your-backup-encryption-key-32-chars-min
BACKUP_RETENTION_DAYS=14

# Seguridad / Per√≠metro
CLOUDFLARE_ZONE_ID=your-cloudflare-zone-id
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
REQUIRE_2FA=true
IP_ALLOWLIST_ENABLED=false

# Health Monitoring
HEALTH_CHECK_TIMEOUT=10000
ALERT_ESCALATION_MINUTES=30

# Audit & Compliance
AUDIT_LOG_RETENTION_DAYS=90
DATA_RETENTION_POLICY_DAYS=60
ANONYMIZATION_ENABLED=false

# Feature Flags for Phase 4
FF_ENHANCED_SECURITY=true
FF_BACKUP_MONITORING=true
FF_AUDIT_TRAIL=true
FF_IP_ALLOWLIST=false

# === Phase 5: Onboarding & Time-to-Value ===

# Onboarding Configuration
ONBOARDING_WIZARD_ENABLED=true
TEMPLATE_INSTALLATION_TIMEOUT=30000
DEFAULT_TEMPLATE_COUNTRY=MX
ONBOARDING_PROGRESS_TRACKING=true

# Health Score System
HEALTH_SCORE_UPDATE_INTERVAL=300000
ACTIVATION_THRESHOLD_SCORE=70
ACTIVATION_MIN_EXECUTIONS=5
ACTIVATION_MIN_OUTCOMES=1
HEALTH_SCORE_WEIGHTS_OUTCOME=0.5
HEALTH_SCORE_WEIGHTS_INTEGRATION=0.3
HEALTH_SCORE_WEIGHTS_USAGE=0.2

# Notification & Digest System
DIGEST_NOTIFICATION_ENABLED=true
DIGEST_SEND_DAYS=1,3,7,14
EMAIL_NOTIFICATIONS_ENABLED=false
WHATSAPP_NOTIFICATIONS_ENABLED=false
NOTIFICATION_BATCH_SIZE=50
NOTIFICATION_RETRY_ATTEMPTS=3

# Evidence Upload System
EVIDENCE_UPLOAD_MAX_SIZE=10485760
EVIDENCE_STORAGE_BUCKET=evidence
EVIDENCE_ALLOWED_TYPES=image/jpeg,image/png,application/pdf,video/mp4
EVIDENCE_CLEANUP_DAYS=90

# Template Catalog
TEMPLATE_CACHE_TTL=3600
COUNTRY_ORDERING_ENABLED=true
TEMPLATE_EXECUTION_TIMEOUT=60000

# Gamification System
ACHIEVEMENTS_ENABLED=true
LEVEL_SYSTEM_ENABLED=true
PROGRESS_NOTIFICATIONS_ENABLED=true

# Geographic Detection
GEO_DETECTION_ENABLED=true
GEO_DEFAULT_COUNTRY=MX
SUPPORTED_COUNTRIES=MX,CO,CL,AR,PE,DO,CR,GT,HN,SV,NI,PA,UY,PY,BO,EC,VE

# Real-time Features
REALTIME_PROGRESS_UPDATES=true
WEBSOCKET_ENABLED=false
POLLING_INTERVAL=30000

# Feature Flags for Phase 5
FF_ONBOARDING_WIZARD=true
FF_HEALTH_SCORE=true
FF_GAMIFICATION=true
FF_EVIDENCE_UPLOAD=true
FF_DIGEST_NOTIFICATIONS=true
FF_TEMPLATE_CATALOG=true
FF_GEO_DETECTION=true